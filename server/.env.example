# ── NoVoice Server — Environment Variables ──────────────────────────────────
# Copy this file to .env and fill in the values.

# Server port (default: 3001)
PORT=3001

# REQUIRED: Generate a secure secret with:
#   node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=change-this-to-a-random-64-byte-secret

# Node environment
NODE_ENV=production

# ── Federated auth (Own Server mode) ────────────────────────────────────────
# If set, this server validates JWTs by calling the central NoVoice server.
# Users can then log in with their central NoVoice account — no separate registration needed.
# Leave empty to use local JWT validation (requires sharing the same JWT_SECRET).
CENTRAL_AUTH_URL=http://46.224.71.180:3001

# ── Database ─────────────────────────────────────────────────────────────────
# Path where the SQLite database file will be stored.
# Default: server/novoice.db — override when using Docker volumes.
# DB_PATH=/app/data/novoice.db

# Voice relay (TURN) for stable calls behind NAT/firewalls
# Set TURN_ENABLED=true to activate TURN credential responses in /api/voice/ice
TURN_ENABLED=false

# Comma-separated STUN servers returned to clients
TURN_STUN_URLS=stun:stun.l.google.com:19302,stun:stun1.l.google.com:19302

# Public TURN URLs clients should use
# Example:
# TURN_URLS=turn:voice.example.com:3478?transport=udp,turn:voice.example.com:3478?transport=tcp
TURN_URLS=

# Preferred: shared secret for TURN REST credentials (HMAC-SHA1)
TURN_STATIC_AUTH_SECRET=

# Fallback only if you do not use TURN_STATIC_AUTH_SECRET:
# TURN_USERNAME=novoice
# TURN_PASSWORD=change-me

# Lifetime for generated TURN credentials (seconds)
TURN_CREDENTIAL_TTL_SECONDS=3600
